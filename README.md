# OSHomework_4
## Кузьмин Максим Михайлович, БПИ212
## Вариант 1
## Условие: Задача о парикмахере. В тихом городке есть парикмахерская.
Салон парикмахерской мал, работать в нем нем может только один
парикмахер, обслуживающий одного посетителя. Есть несколько кресел для ожидания в очереди. Парикмахер всю жизнь обслуживает посетителей. Когда в салоне никого нет, он спит в кресле.
Когда посетитель приходит и видит спящего парикмахера, он будет
его, садится в кресло, «засыпая» на тот момент, пока парикмахер
обслуживает его. Если посетитель приходит, а парикмахер занят,
то он встает в очередь и «засыпает». После стрижки парикмахер
сам провожает посетителя. Если есть ожидающие посетители, то
парикмахер будит одного из них и ждет пока тот сядет в кресло парикмахера и начинает стрижку. Если никого нет, он снова садится
в свое кресло и засыпает до прихода посетителя. Создать приложение, моделирующее рабочий день парикмахерской. Парикмахера и каждого из посетителей моделировать в виде отдельных процессов. Последние могут независимо порождаться в
произвольное время и завершать работу после обслуживания.

## На 4-5:
Реализованы 2 клиента (парикмахер и менеджер клиентов) и 1 сервер (очередь). Вся информация хранится на стороне сервера. Клиент-менеджер делает запрос на сервер о том, что пришёл новый клиент, сервер обрабатывает информацию и если нужно отправляет информацию клиенту-парикмахеру. Тот в свою очередь делает свою работу и посылает сообещние серверу об успешном окончании стрижки. Сервер отправляет эту информацию клиенту-менеджеру. Также выводится дополнительная важная информация.
Запросы делаются с помощью recvfrom/sendto.
Порты и IP-адреса можно вбивать перед запускам в консоль: ./UDPServer 8000 127.0.0.1
Порт и IP - опциональны (подставляются дефолтные параметры)
Была проверена работоспособность на различных компьютерах в одной локальной сети.
Фотографии работы можно найти в репозитории.
При запуске можно увидеть некоторую подробную информацию о том, какой клиент подключился к серверу. Также поддержаны различные ошибки, которые могут возникнуть в процессе работы с потоками и UDP протоколом.
Также была добавлена автоматизация процесса.
Запуск программ следующим образом:

./UDPServer 8000 127.0.0.1 - сервер

./UDPClientClients 8000 127.0.0.1 - клиент-менеджер

./UDPClientBarber 8000 127.0.0.1 - клиент-барбер
(порт и IP - опциональны, можно ввести только порт или ничего)

## На 6-7
Реализован ещё 1 дополнительный клиент-зритель, который также подключается к серверу и в зависимости от статусов делает записи в консоль.
Запуск программы:

./UDPClientViewer 8000 127.0.0.1 - клиент-зритель
Также опциональные порт и IP.

Пример работы зрителя также предоставлен на фотках.
